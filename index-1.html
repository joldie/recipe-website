<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Unknown </title></head><body>
<h1 id="recipe-website">Recipe Website</h1>
<p>Website for posting and finding vegan food recipes.</p>
<ul>
<li><a href="#recipe-website">Recipe Website</a></li>
<li><a href="#description">Description</a><ul>
<li><a href="#external-librariestools-used">External libraries/tools used</a></li>
</ul>
</li>
<li><a href="#installation">Installation</a><ul>
<li><a href="#mongo-database-collection">Mongo database collection</a></li>
<li><a href="#hashover-commenting-system-setup">HashOver commenting system setup</a></li>
</ul>
</li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#license">License</a></li>
</ul>
<h2 id="description">Description</h2>
<p>This is a small project with the main goal of improving my web development skills.</p>
<p>Written in PHP / HTML5 / CSS3 / JavaScript, using a Mongo database.</p>
<h4 id="external-librariestools-used">External libraries/tools used</h4>
<ul>
<li><a href="https://necolas.github.io/normalize.css/">Normalize CSS</a></li>
<li><a href="https://fonts.google.com/">Google Fonts</a></li>
<li><a href="https://fontawesome.com/">FontAwesome CSS</a></li>
<li>for icons and placeholder images</li>
<li><a href="https://github.com/tovic/tags-input-beautifier">Tags Input Beautifier</a></li>
<li>adapted code for recipe tag input</li>
<li><a href="https://github.com/jacobwb/hashover-next">HashOver commenting system</a></li>
</ul>
<h2 id="installation">Installation</h2>
<ol>
<li>Install Mongo database on web server</li>
<li>Create text index for search functionality:
<code>db.recipes.createIndex({name:"text", description:"text", "ingredients.item":"text", tags:"text"})</code></li>
<li>Install Composer PHP package manager in project folder and install <code>mongodb</code> package:
<code>php composer.phar require mongodb/mongodb</code></li>
<li>Copy <code>config.php</code> file to root directory (example below)</li>
</ol>
<p>```php
&lt;?php</p>
<p>// Example config.php file</p>
<p>$config = array(
  "db" =&gt; array(
    "server" =&gt; "127.0.0.1",
    "port" =&gt; "27017",
    "name" =&gt; "mydb",
    "collection" =&gt; "recipes",
    "username" =&gt; "user",
    "password" =&gt; "pass1234"
  ),
  "urls" =&gt; array(
    "baseUrl" =&gt; "https://mydomain.com/recipes"
  ),
  "max_upload_size_MB" =&gt; 8
);</p>
<p>// Constants declared for frequently used path names
define("IMAGES_PATH", realpath(dirname(<strong>FILE</strong>)) . '/public_html/images');
define("TEMPLATES_PATH", realpath(dirname(<strong>FILE</strong>)) . '/resources/templates');
define("LIBRARY_PATH", realpath(dirname(<strong>FILE</strong>)) . '/resources/library');
```</p>
<h4 id="mongo-database-collection">Mongo database collection</h4>
<p>Collection name = <code>recipe</code></p>
<table>
<thead>
<tr>
<th>Field name</th>
<th>Description</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>_id</code></td>
<td>Automatically generated</td>
<td>integer</td>
</tr>
<tr>
<td><code>name</code></td>
<td>Name of recipe</td>
<td>text</td>
</tr>
<tr>
<td><code>date</code></td>
<td>Date recipe first added</td>
<td>datetime</td>
</tr>
<tr>
<td><code>description</code></td>
<td>Brief description of recipe</td>
<td>text</td>
</tr>
<tr>
<td><code>credit</code></td>
<td>Name of person/website to credit for recipe idea</td>
<td>text</td>
</tr>
<tr>
<td><code>credit_link</code></td>
<td>URL to website (if applicable)</td>
<td>text</td>
</tr>
<tr>
<td><code>tags</code></td>
<td>Tags describing recipe, e.g. "dinner", "snack"</td>
<td>text array</td>
</tr>
<tr>
<td><code>serves</code></td>
<td>Number of people served by ingredient quantities</td>
<td>integer</td>
</tr>
<tr>
<td><code>preptime</code></td>
<td>Preparation time, in minutes</td>
<td>integer</td>
</tr>
<tr>
<td><code>cooktime</code></td>
<td>Cooking time, in minutes</td>
<td>integer</td>
</tr>
<tr>
<td><code>ingredients</code></td>
<td>List of ingredients required in recipe, each described by an optional quantity (<code>qty</code>, type = integer), optional measuring unit (<code>unit</code>, type = text) and required item name (<code>item</code>, type = text)</td>
<td>array</td>
</tr>
<tr>
<td><code>steps</code></td>
<td>Ordered list of steps describing how to make recipe</td>
<td>text array</td>
</tr>
<tr>
<td><code>image</code></td>
<td>Photo of recipe, stored as a binary blob</td>
<td>binary</td>
</tr>
<tr>
<td><code>image_type</code></td>
<td>Image format (JPG or PNG)</td>
<td>text</td>
</tr>
</tbody>
</table>
<h4 id="hashover-commenting-system-setup">HashOver commenting system setup</h4>
<p>Install dependencies (Debian/Ubuntu package names shown):
- php-mbstring
- php-xml
- php-json</p>
<p>Download <a href="https://github.com/jacobwb/hashover-next/tree/master/hashover">hashover</a> folder and place in <code>public_html/vendor/</code>.</p>
<p>Set group-owner of folder to www-data:
<code>sudo chgrp -R www-data hashover/</code></p>
<p>Apply permissions to the following folders:
- <code>hashover/</code> (644)
- <code>hashover/comments/</code> (775)
- <code>hashover/config/</code> (775)</p>
<p>Edit <code>hashover/backend/classes/secrets.php</code> file, saving unique values for the following values:
- <code>$notificationEmail</code>
- <code>$encryptionKey</code>
- <code>$adminName</code>
- <code>$adminPassword</code></p>
<p>Edit <code>hashover/backend/classes/settings.php</code> file, overwriting default field options (done this way as unable to find proper method - documentation insufficient):
<code>php
// Starting line 168:
        $this-&gt;fieldOptions['name'] = true;
        $this-&gt;fieldOptions['password'] = false;
        $this-&gt;fieldOptions['email'] = false;
        $this-&gt;fieldOptions['website'] = false;</code></p>
<p>Restart Apache web server.</p>
<p>Visit administration page (http://site-url.com/vendor/hashover/admin/) and set desired defaults for time/date format, avatar icons, etc.</p>
<h2 id="contributing">Contributing</h2>
<p>All contributions are welcome, particularly feedback on code quality, bug reports, tips and ideas for improvement.</p>
<h2 id="license">License</h2>
<p>All code dedicated to the world-wide public domain under a <a href="https://creativecommons.org/publicdomain/zero/1.0/">Creative Commons Zero v1.0 Universal License</a></p>
</body></html>